<html>
<head>

<style>
</style>

<!--<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.js"></script>-->
<!-- NOPE <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.js"></script> -->
<!--<script type="text/javascript" src="/static/jquery-ui/js/jquery-ui-1.8.16.custom.min.js"></script>-->

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js" type="text/javascript"></script> 
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js" type="text/javascript"></script> 

<style media="all" type="text/css">@import "/static/jquery-ui/css/ui-lightness/jquery-ui-1.8.16.custom.css";</style>

<script>
$(function() {

	$("#query").autocomplete({
		source : function(request, response) {
			$.ajax({
				url : "getfromquery",
				dataType : "jsonp",
				cache: "true",
				data : { query : request.term },
				success : function(data) {
 					response($.map(data.entry, function(item) {
						return {label: item.name, value: item.url}
					}));
				},
				error : function() {
					alert('ma che spacchio e\' successo?')
				}
			});
		},
		minLength : 2,
//		select : function(event, ui) {
//			log(ui.item ? "Selected: " + ui.item.label : "Nothing selected, input was " + this.value);
//		},
//		open : function() {
//			$(this).removeClass("ui-corner-all").addClass("ui-corner-top");
//		},
//		close : function() {
//			$(this).removeClass("ui-corner-top").addClass("ui-corner-all");
//		}
	});
});
</script>

</head>
<body>
<input type="text" name="q" id="query" />
</body>
</html>